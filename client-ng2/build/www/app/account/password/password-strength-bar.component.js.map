{"version":3,"sources":["account/password/password-strength-bar.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;YAWA;gBAGI,sCAAoB,EAAc;oBAAd,OAAE,GAAF,EAAE,CAAY;oBAC9B,IAAI,CAAC,QAAQ,GAAG;wBACZ,MAAM,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC;wBAChD,cAAc,EAAE,UAAU,CAAC;4BAEvB,IAAI,MAAM,GAAG,CAAC,CAAC;4BACf,IAAI,MAAM,GAAG,uBAAuB,CAAC,CAAC,IAAI;4BAE1C,IAAI,aAAa,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;4BACrC,IAAI,aAAa,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;4BACrC,IAAI,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;4BAChC,IAAI,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;4BAE9B,IAAI,MAAM,GAAG,CAAC,aAAa,EAAE,aAAa,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;4BAChE,IAAI,cAAc,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,UAAU,EAAE;gCAC5C,MAAM,CAAC,EAAE,KAAK,IAAI,CAAC;4BACvB,CAAC,CAAC,CAAC,MAAM,CAAC;4BAEV,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;4BACpD,MAAM,IAAI,cAAc,GAAG,EAAE,CAAC;4BAE9B,4BAA4B;4BAC5B,MAAM,GAAG,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,CAAC,GAAG,MAAM,CAAC;4BAEzD,wCAAwC;4BACxC,MAAM,GAAG,CAAC,cAAc,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,CAAC,GAAG,MAAM,CAAC;4BAChE,MAAM,GAAG,CAAC,cAAc,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,CAAC,GAAG,MAAM,CAAC;4BAChE,MAAM,GAAG,CAAC,cAAc,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,CAAC,GAAG,MAAM,CAAC;4BAEhE,MAAM,CAAC,MAAM,CAAC;wBAElB,CAAC;wBACD,QAAQ,EAAE,UAAU,CAAC;4BAEjB,IAAI,GAAG,GAAG,CAAC,CAAC;4BACZ,EAAE,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;gCACV,GAAG,GAAG,CAAC,CAAC;4BACZ,CAAC;4BACD,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;gCACf,GAAG,GAAG,CAAC,CAAC;4BACZ,CAAC;4BACD,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;gCACf,GAAG,GAAG,CAAC,CAAC;4BACZ,CAAC;4BACD,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;gCACf,GAAG,GAAG,CAAC,CAAC;4BACZ,CAAC;4BACD,IAAI,CAAC,CAAC;gCACF,GAAG,GAAG,CAAC,CAAC;4BACZ,CAAC;4BAED,MAAM,CAAC,EAAC,GAAG,EAAE,GAAG,GAAG,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAC,CAAC;wBACjD,CAAC;qBACJ,CAAC;gBACN,CAAC;gBAGD,sBAAI,yDAAe;yBAAnB,UAAoB,QAAgB;wBAChC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;4BACX,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC;4BACvE,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,SAAS,GAAG,EAAE,CAAC;4BACrC,IAAI,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;4BAC3D,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gCAClC,EAAE,CAAA,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oCACX,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,eAAe,GAAG,CAAC,CAAC,GAAG,CAAC;gCACzC,CAAC;gCAAC,IAAI,CAAC,CAAC;oCACJ,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,eAAe,GAAG,MAAM,CAAC;gCAC1C,CAAC;4BACL,CAAC;wBACL,CAAC;oBACL,CAAC;;;mBAAA;gBAdD;oBAAC,YAAK,EAAE;;;mFAAA;gBApEZ;oBAAC,gBAAS,CAAC;wBACP,QAAQ,EAAE,uBAAuB;wBACjC,QAAQ,EAAE,qBAAqB;4BAC3B,6FAA6F;4BAC7F,uBAAuB;4BACvB,qHAAqH;4BACrH,OAAO;4BACP,QAAQ;qBACf,CAAC;;gDAAA;gBA2EF,mCAAC;YAAD,CA1EA,AA0EC,IAAA;YA1ED,uEA0EC,CAAA","file":"account/password/password-strength-bar.component.js","sourcesContent":["import {Component, Input, ElementRef} from '@angular/core';\n\n@Component({\n    selector: 'password-strength-bar',\n    template: '<div id=\"strength\">' +\n        '<small translate=\"global.messages.validate.newpassword.strength\">Password strength:</small>' +\n        '<ul id=\"strengthBar\">' +\n        '<li class=\"point\"></li><li class=\"point\"></li><li class=\"point\"></li><li class=\"point\"></li><li class=\"point\"></li>' +\n        '</ul>' +\n        '</div>'\n})\nexport class PasswordStrengthBarComponent {\n    strength: any;\n\n    constructor(private el: ElementRef) {\n        this.strength = {\n            colors: ['#F00', '#F90', '#FF0', '#9F0', '#0F0'],\n            mesureStrength: function (p) {\n\n                var _force = 0;\n                var _regex = /[$-/:-?{-~!\"^_`\\[\\]]/g; // \"\n\n                var _lowerLetters = /[a-z]+/.test(p);\n                var _upperLetters = /[A-Z]+/.test(p);\n                var _numbers = /[0-9]+/.test(p);\n                var _symbols = _regex.test(p);\n\n                var _flags = [_lowerLetters, _upperLetters, _numbers, _symbols];\n                var _passedMatches = $.grep(_flags, function (el) {\n                    return el === true;\n                }).length;\n\n                _force += 2 * p.length + ((p.length >= 10) ? 1 : 0);\n                _force += _passedMatches * 10;\n\n                // penality (short password)\n                _force = (p.length <= 6) ? Math.min(_force, 10) : _force;\n\n                // penality (poor variety of characters)\n                _force = (_passedMatches === 1) ? Math.min(_force, 10) : _force;\n                _force = (_passedMatches === 2) ? Math.min(_force, 20) : _force;\n                _force = (_passedMatches === 3) ? Math.min(_force, 40) : _force;\n\n                return _force;\n\n            },\n            getColor: function (s) {\n\n                var idx = 0;\n                if (s <= 10) {\n                    idx = 0;\n                }\n                else if (s <= 20) {\n                    idx = 1;\n                }\n                else if (s <= 30) {\n                    idx = 2;\n                }\n                else if (s <= 40) {\n                    idx = 3;\n                }\n                else {\n                    idx = 4;\n                }\n\n                return {idx: idx + 1, col: this.colors[idx]};\n            }\n        };\n    }\n\n    @Input()\n    set passwordToCheck(password: string) {\n        if (password) {\n            var c = this.strength.getColor(this.strength.mesureStrength(password));\n            this.el.nativeElement.className = \"\";\n            let lis = this.el.nativeElement.getElementsByTagName(\"li\");\n            for (var i = 0; i < lis.length; i++) {\n                if(i < c.idx) {\n                    lis[i].style.backgroundColor = c.col;\n                } else {\n                    lis[i].style.backgroundColor = '#DDD';\n                }\n            }\n        }\n    }\n}\n"],"sourceRoot":"/source/"}