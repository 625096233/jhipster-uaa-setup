{"version":3,"sources":["account/reset/finish/reset-finish.controller.ts"],"names":[],"mappings":"AAAA,CAAC;IACG,YAAY,CAAC;IAEb,OAAO;SACF,MAAM,CAAC,qBAAqB,CAAC;SAC7B,UAAU,CAAC,uBAAuB,EAAE,qBAAqB,CAAC,CAAC;IAEhE,qBAAqB,CAAC,OAAO,GAAG,CAAC,cAAc,EAAE,UAAU,EAAE,MAAM,EAAE,cAAc,CAAC,CAAC;IAErF,+BAAgC,YAAY,EAAE,QAAQ,EAAE,IAAI,EAAE,YAAY;QACtE,IAAI,EAAE,GAAG,IAAI,CAAC;QAEd,EAAE,CAAC,UAAU,GAAG,OAAO,CAAC,WAAW,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;QACtD,EAAE,CAAC,eAAe,GAAG,IAAI,CAAC;QAC1B,EAAE,CAAC,UAAU,GAAG,IAAI,CAAC;QACrB,EAAE,CAAC,KAAK,GAAG,IAAI,CAAC;QAChB,EAAE,CAAC,WAAW,GAAG,WAAW,CAAC;QAC7B,EAAE,CAAC,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC;QAC7B,EAAE,CAAC,YAAY,GAAG,EAAE,CAAC;QACrB,EAAE,CAAC,OAAO,GAAG,IAAI,CAAC;QAElB,QAAQ,CAAC,cAAY,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,KAAK,EAAE,CAAC,CAAA,CAAC,CAAC,CAAC;QAE7D;YACI,EAAE,CAAC,UAAU,GAAG,IAAI,CAAC;YACrB,EAAE,CAAC,KAAK,GAAG,IAAI,CAAC;YAChB,EAAE,CAAC,CAAC,EAAE,CAAC,YAAY,CAAC,QAAQ,KAAK,EAAE,CAAC,eAAe,CAAC,CAAC,CAAC;gBAClD,EAAE,CAAC,UAAU,GAAG,OAAO,CAAC;YAC5B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,CAAC,mBAAmB,CAAC,EAAC,GAAG,EAAE,YAAY,CAAC,GAAG,EAAE,WAAW,EAAE,EAAE,CAAC,YAAY,CAAC,QAAQ,EAAC,CAAC,CAAC,IAAI,CAAC;oBAC1F,EAAE,CAAC,OAAO,GAAG,IAAI,CAAC;gBACtB,CAAC,CAAC,CAAC,KAAK,CAAC;oBACL,EAAE,CAAC,OAAO,GAAG,IAAI,CAAC;oBAClB,EAAE,CAAC,KAAK,GAAG,OAAO,CAAC;gBACvB,CAAC,CAAC,CAAC;YACP,CAAC;QACL,CAAC;IACL,CAAC;AACL,CAAC,CAAC,EAAE,CAAC","file":"account/reset/finish/reset-finish.controller.js","sourcesContent":["(function() {\n    'use strict';\n\n    angular\n        .module('uaaSetupApp.account')\n        .controller('ResetFinishController', ResetFinishController);\n\n    ResetFinishController.$inject = ['$stateParams', '$timeout', 'Auth', 'LoginService'];\n\n    function ResetFinishController ($stateParams, $timeout, Auth, LoginService) {\n        var vm = this;\n\n        vm.keyMissing = angular.isUndefined($stateParams.key);\n        vm.confirmPassword = null;\n        vm.doNotMatch = null;\n        vm.error = null;\n        vm.finishReset = finishReset;\n        vm.login = LoginService.open;\n        vm.resetAccount = {};\n        vm.success = null;\n\n        $timeout(function (){angular.element('#password').focus();});\n\n        function finishReset() {\n            vm.doNotMatch = null;\n            vm.error = null;\n            if (vm.resetAccount.password !== vm.confirmPassword) {\n                vm.doNotMatch = 'ERROR';\n            } else {\n                Auth.resetPasswordFinish({key: $stateParams.key, newPassword: vm.resetAccount.password}).then(function () {\n                    vm.success = 'OK';\n                }).catch(function () {\n                    vm.success = null;\n                    vm.error = 'ERROR';\n                });\n            }\n        }\n    }\n})();\n"],"sourceRoot":"/source/"}