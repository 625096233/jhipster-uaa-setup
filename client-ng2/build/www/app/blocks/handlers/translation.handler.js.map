{"version":3,"sources":["blocks/handlers/translation.handler.ts"],"names":[],"mappings":";;;IAEA,4BAAmC,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE,UAAU;QACtE,MAAM,CAAC;YACH,UAAU,EAAE,UAAU;YACtB,WAAW,EAAE,WAAW;SAC3B,CAAC;QAEF;YACI,8DAA8D;YAC9D,IAAI,sBAAsB,GAAG,UAAU,CAAC,GAAG,CAAC,yBAAyB,EAAE;gBACnE,WAAW,EAAE,CAAC;YAClB,CAAC,CAAC,CAAC;YAEH,UAAU,CAAC,GAAG,CAAC,UAAU,EAAE;gBACvB,EAAE,CAAA,CAAC,OAAO,CAAC,SAAS,CAAC,sBAAsB,CAAC,IAAI,sBAAsB,KAAK,IAAI,CAAC,CAAA,CAAC;oBAC7E,sBAAsB,EAAE,CAAC;gBAC7B,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC;QAED,wDAAwD;QACxD,cAAc;QACd,wBAAwB;QACxB,+DAA+D;QAC/D,oBAAoB;QACpB,qBAAqB,QAAQ;YACzB,EAAE,CAAC,CAAC,CAAC,QAAQ,IAAI,MAAM,CAAC,QAAQ,CAAC,IAAI,IAAI,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBACtE,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC;YAC9C,CAAC;YACD,UAAU,CAAC,QAAQ,IAAI,cAAc,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK;gBACvD,OAAO,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;YACnC,CAAC,CAAC,CAAC;QACP,CAAC;IACL,CAAC;IAhCD,mDAgCC,CAAA;;;;YAlCD,kBAAkB,CAAC,OAAO,GAAG,CAAC,YAAY,EAAE,SAAS,EAAE,QAAQ,EAAE,YAAY,CAAC,CAAC","file":"blocks/handlers/translation.handler.js","sourcesContent":["TranslationHandler.$inject = ['$rootScope', '$window', '$state', '$translate'];\n\nexport function TranslationHandler($rootScope, $window, $state, $translate) {\n    return {\n        initialize: initialize,\n        updateTitle: updateTitle\n    };\n\n    function initialize() {\n        // if the current translation changes, update the window title\n        var translateChangeSuccess = $rootScope.$on('$translateChangeSuccess', function() {\n            updateTitle();\n        });\n\n        $rootScope.$on('$destroy', function () {\n            if(angular.isDefined(translateChangeSuccess) && translateChangeSuccess !== null){\n                translateChangeSuccess();\n            }\n        });\n    }\n\n    // update the window title using params in the following\n    // precendence\n    // 1. titleKey parameter\n    // 2. $state.$current.data.pageTitle (current state page title)\n    // 3. 'global.title'\n    function updateTitle(titleKey) {\n        if (!titleKey && $state.$current.data && $state.$current.data.pageTitle) {\n            titleKey = $state.$current.data.pageTitle;\n        }\n        $translate(titleKey || 'global.title').then(function (title) {\n            $window.document.title = title;\n        });\n    }\n}\n"],"sourceRoot":"/source/"}