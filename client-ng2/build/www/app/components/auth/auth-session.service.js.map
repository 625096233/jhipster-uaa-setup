{"version":3,"sources":["components/auth/auth-session.service.ts"],"names":[],"mappings":";;;IAEA,4BAAoC,KAAK,EAAE,aAAa;QACpD,IAAI,OAAO,GAAG;YACV,QAAQ,EAAE,QAAQ;YAClB,aAAa,EAAE,aAAa;YAC5B,KAAK,EAAE,KAAK;YACZ,MAAM,EAAE,MAAM;SACjB,CAAC;QAEF,MAAM,CAAC,OAAO,CAAC;QAEf;YACI,IAAI,KAAK,GAAG,aAAa,CAAC,mBAAmB,CAAC;YAC9C,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;QAED;YACI,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;YAC5B,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC;QACnB,CAAC;QAED,eAAgB,WAAW;YACvB,IAAI,IAAI,GAAG,aAAa,GAAG,kBAAkB,CAAC,WAAW,CAAC,QAAQ,CAAC;gBAC/D,cAAc,GAAG,kBAAkB,CAAC,WAAW,CAAC,QAAQ,CAAC;gBACzD,eAAe,GAAG,WAAW,CAAC,UAAU,GAAG,eAAe,CAAC;YAE/D,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,EAAE;gBAC1C,OAAO,EAAE;oBACL,cAAc,EAAE,mCAAmC;iBACtD;aACJ,CAAC,CAAC,OAAO,CAAC,UAAU,QAAQ;gBACzB,MAAM,CAAC,QAAQ,CAAC;YACpB,CAAC,CAAC,CAAC;QACP,CAAC;QAED;YAGI,yBAAyB;YACzB,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,UAAU,QAAQ;gBAC/C,OAAO,aAAa,CAAC,mBAAmB,CAAC;gBACzC,uCAAuC;gBACvC,KAAK,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;gBACzB,MAAM,CAAC,QAAQ,CAAC;YACpB,CAAC,CAAC,CAAC;QAEP,CAAC;IACL,CAAC;IA9CD,mDA8CC,CAAA;;;;YAhDD,kBAAkB,CAAC,OAAO,GAAG,CAAC,OAAO,EAAE,eAAe,CAAE,CAAC","file":"components/auth/auth-session.service.js","sourcesContent":["AuthServerProvider.$inject = ['$http', '$localStorage' ];\n\nexport function AuthServerProvider ($http, $localStorage ) {\n    var service = {\n        getToken: getToken,\n        hasValidToken: hasValidToken,\n        login: login,\n        logout: logout\n    };\n\n    return service;\n\n    function getToken () {\n        var token = $localStorage.authenticationToken;\n        return token;\n    }\n\n    function hasValidToken () {\n        var token = this.getToken();\n        return !!token;\n    }\n\n    function login (credentials) {\n        var data = 'j_username=' + encodeURIComponent(credentials.username) +\n            '&j_password=' + encodeURIComponent(credentials.password) +\n            '&remember-me=' + credentials.rememberMe + '&submit=Login';\n\n        return $http.post('api/authentication', data, {\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded'\n            }\n        }).success(function (response) {\n            return response;\n        });\n    }\n\n    function logout () {\n\n        \n        // logout from the server\n        $http.post('api/logout').success(function (response) {\n            delete $localStorage.authenticationToken;\n            // to get a new csrf token call the api\n            $http.get('api/account');\n            return response;\n        });\n        \n    }\n}\n"],"sourceRoot":"/source/"}