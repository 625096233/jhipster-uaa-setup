{"version":3,"sources":["components/auth/has-any-authority.directive.ts"],"names":[],"mappings":"AAAA,CAAC;IACG,YAAY,CAAC;IAEb,OAAO;SACF,MAAM,CAAC,oBAAoB,CAAC;SAC5B,SAAS,CAAC,iBAAiB,EAAE,eAAe,CAAC,CAAC;IAEnD,eAAe,CAAC,OAAO,GAAG,CAAC,WAAW,CAAC,CAAC;IAExC,yBAAyB,SAAS;QAC9B,IAAI,SAAS,GAAG;YACZ,QAAQ,EAAE,GAAG;YACb,IAAI,EAAE,QAAQ;SACjB,CAAC;QAEF,MAAM,CAAC,SAAS,CAAC;QAEjB,kBAAkB,KAAK,EAAE,OAAO,EAAE,KAAK;YACnC,IAAI,WAAW,GAAG,KAAK,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAEvE,IAAI,UAAU,GAAG;gBACT,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YAClC,CAAC,EACD,SAAS,GAAG;gBACR,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAC/B,CAAC,EACD,gBAAgB,GAAG,UAAU,KAAK;gBAC9B,IAAI,MAAM,CAAC;gBACX,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBACR,UAAU,EAAE,CAAC;gBACjB,CAAC;gBAED,MAAM,GAAG,SAAS,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;gBAChD,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oBACT,UAAU,EAAE,CAAC;gBACjB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,SAAS,EAAE,CAAC;gBAChB,CAAC;YACL,CAAC,CAAC;YAEN,EAAE,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACzB,gBAAgB,CAAC,IAAI,CAAC,CAAC;gBAEvB,KAAK,CAAC,MAAM,CAAC;oBACT,MAAM,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC;gBACvC,CAAC,EAAE;oBACC,gBAAgB,CAAC,IAAI,CAAC,CAAC;gBAC3B,CAAC,CAAC,CAAC;YACP,CAAC;QACL,CAAC;IACL,CAAC;AACL,CAAC,CAAC,EAAE,CAAC","file":"components/auth/has-any-authority.directive.js","sourcesContent":["(function() {\n    'use strict';\n\n    angular\n        .module('uaaSetupApp.common')\n        .directive('hasAnyAuthority', hasAnyAuthority);\n\n    hasAnyAuthority.$inject = ['Principal'];\n\n    function hasAnyAuthority(Principal) {\n        var directive = {\n            restrict: 'A',\n            link: linkFunc\n        };\n\n        return directive;\n\n        function linkFunc(scope, element, attrs) {\n            var authorities = attrs.hasAnyAuthority.replace(/\\s+/g, '').split(',');\n\n            var setVisible = function () {\n                    element.removeClass('hidden');\n                },\n                setHidden = function () {\n                    element.addClass('hidden');\n                },\n                defineVisibility = function (reset) {\n                    var result;\n                    if (reset) {\n                        setVisible();\n                    }\n\n                    result = Principal.hasAnyAuthority(authorities);\n                    if (result) {\n                        setVisible();\n                    } else {\n                        setHidden();\n                    }\n                };\n\n            if (authorities.length > 0) {\n                defineVisibility(true);\n\n                scope.$watch(function() {\n                    return Principal.isAuthenticated();\n                }, function() {\n                    defineVisibility(true);\n                });\n            }\n        }\n    }\n})();\n"],"sourceRoot":"/source/"}