{"version":3,"sources":["components/form/minbytes.directive.ts"],"names":[],"mappings":"AAAA,CAAC;IACG,YAAY,CAAC;IAEb,OAAO;SACF,MAAM,CAAC,oBAAoB,CAAC;SAC5B,SAAS,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;IAErC;QACI,IAAI,SAAS,GAAG;YACZ,QAAQ,EAAE,GAAG;YACb,OAAO,EAAE,UAAU;YACnB,IAAI,EAAE,QAAQ;SACjB,CAAC;QAEF,MAAM,CAAC,SAAS,CAAC;QAEjB,kBAAmB,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO;YAC7C,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACX,MAAM,CAAC;YACX,CAAC;YAED,OAAO,CAAC,WAAW,CAAC,QAAQ,GAAG,UAAU,UAAU;gBAC/C,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,aAAa,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC;YACvF,CAAC,CAAC;QACN,CAAC;QAED,kBAAkB,MAAM,EAAE,GAAG;YACzB,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;QAClE,CAAC;QAED,qBAAqB,YAAY;YAC7B,EAAE,CAAC,CAAC,QAAQ,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC;gBAC/B,MAAM,CAAC,CAAC,CAAC;YACb,CAAC;YACD,EAAE,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC;gBAC9B,MAAM,CAAC,CAAC,CAAC;YACb,CAAC;YACD,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;QAED,uBAAuB,YAAY;YAC/B,MAAM,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,GAAG,WAAW,CAAC,YAAY,CAAC,CAAC;QACnE,CAAC;IACL,CAAC;AACL,CAAC,CAAC,EAAE,CAAC","file":"components/form/minbytes.directive.js","sourcesContent":["(function() {\n    'use strict';\n\n    angular\n        .module('uaaSetupApp.common')\n        .directive('minbytes', minbytes);\n\n    function minbytes () {\n        var directive = {\n            restrict: 'A',\n            require: '?ngModel',\n            link: linkFunc\n        };\n\n        return directive;\n\n        function linkFunc (scope, element, attrs, ngModel) {\n            if (!ngModel) {\n                return;\n            }\n\n            ngModel.$validators.minbytes = function (modelValue) {\n                return ngModel.$isEmpty(modelValue) || numberOfBytes(modelValue) >= attrs.minbytes;\n            };\n        }\n\n        function endsWith(suffix, str) {\n            return str.indexOf(suffix, str.length - suffix.length) !== -1;\n        }\n\n        function paddingSize(base64String) {\n            if (endsWith('==', base64String)) {\n                return 2;\n            }\n            if (endsWith('=', base64String)) {\n                return 1;\n            }\n            return 0;\n        }\n\n        function numberOfBytes(base64String) {\n            return base64String.length / 4 * 3 - paddingSize(base64String);\n        }\n    }\n})();\n"],"sourceRoot":"/source/"}