{"version":3,"sources":["components/util/sort.directive.ts"],"names":[],"mappings":"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","file":"components/util/sort.directive.js","sourcesContent":["(function() {\n    'use strict';\n\n    angular\n        .module('uaaSetupApp.common')\n        .directive('jhSort', jhSort);\n\n    function jhSort () {\n        var directive = {\n            restrict: 'A',\n            scope: {\n                predicate: '=jhSort',\n                ascending: '=',\n                callback: '&'\n            },\n            controller: SortController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n    }\n\n    SortController.$inject = ['$scope', '$element'];\n\n    function SortController ($scope, $element) {\n        var vm = this;\n\n        vm.applyClass = applyClass;\n        vm.resetClasses = resetClasses;\n        vm.sort = sort;\n        vm.triggerApply = triggerApply;\n\n        $scope.$watchGroup(['vm.predicate', 'vm.ascending'], vm.triggerApply);\n        vm.triggerApply();\n\n        function applyClass (element) {\n            var thisIcon = element.find('span.glyphicon'),\n                sortIcon = 'glyphicon-sort',\n                sortAsc = 'glyphicon-sort-by-attributes',\n                sortDesc = 'glyphicon-sort-by-attributes-alt',\n                remove = sortIcon + ' ' + sortDesc,\n                add = sortAsc;\n            if (!vm.ascending) {\n                remove = sortIcon + ' ' + sortAsc;\n                add = sortDesc;\n            }\n            vm.resetClasses();\n            thisIcon.removeClass(remove);\n            thisIcon.addClass(add);\n        }\n\n        function resetClasses () {\n            var allThIcons = $element.find('span.glyphicon'),\n                sortIcon = 'glyphicon-sort',\n                sortAsc = 'glyphicon-sort-by-attributes',\n                sortDesc = 'glyphicon-sort-by-attributes-alt';\n            allThIcons.removeClass(sortAsc + ' ' + sortDesc);\n            allThIcons.addClass(sortIcon);\n        }\n\n        function sort (field) {\n            if (field !== vm.predicate) {\n                vm.ascending = true;\n            } else {\n                vm.ascending = !vm.ascending;\n            }\n            vm.predicate = field;\n            $scope.$apply();\n            vm.callback();\n        }\n\n        function triggerApply (values)  {\n            vm.resetClasses();\n            if (values && values[0] !== '_score') {\n                vm.applyClass($element.find('th[jh-sort-by=\\'' + values[0] + '\\']'));\n            }\n        }\n    }\n})();\n"],"sourceRoot":"/source/"}